# Kotlin.Fixture

Kotlin.Fixture is an open source library based on the popular .NET library, [AutoFixture](https://github.com/AutoFixture/AutoFixture).

## Description

Write maintainable unit tests, faster.

Kotlin.Fixture makes it easier for developers to do Test-Driven Development by automating non-relevant Test Fixture Setup, allowing the Test Developer to focus on the essentials of each test case.

## Download

Add the dependency
```gradle
dependencies {
	compile 'com.marcellogalhardo:kotlin-fixture:0.1.0'
}
```
That's it!

## Usage

All examples assume that a Fixture instance called fixture has previously been created like this:
```kotlin
val fixture = FixtureFactory.create()
```

### Autogenerated String

```kotlin
val autoGeneratedText = fixture.next<String>()
```

- Sample result: `string: "f5cdf6b1-a473-410f-95f3-f427f7abb0c7"`

### Autogenerated String with Prefix

```kotlin
val autoGeneratedText = fixture.next<String>("name")
```
- Sample result: `string: "name-30a35da1-d681-441b-9db3-77ff51728b58"`

### Autogenerated Number
```kotlin
val autoGeneratedNumber = fixture.next<Int>()
```
- Sample result: `int: 27`, followed by 9, then by 171, etc.

### Autogenerated Complex Type
```kotlin
val autoGeneratedClass = fixture.next<ComplexParent>()
```
- Sample result: 
  - ComplexParent:
    - Child: ComplexChild
    - Name: `string: "name-f70b67ff-05d3-4498-95c9-de74e1aa0c3c"`
    - Number: `int: 1`

### Autogenerated Interface Types
```kotlin
val autoGeneratedInterface = fixture.next<MyInterface>()
```
- Sample result: Fixture will return a Proxy object that implements the interface; all method call returns will be generated randomly.

### Autogenerated Object Types
```kotlin
val autoGeneratedInterface = fixture.next<MyObject>()
```
- Sample result: Fixture will return an instance of the object; if the object already exists, it will return the same instance.


### Abstract Types
```kotlin
fixture.register<MyAbstractClass> {
    FakeAbstractClass()
}
```
Sample result: Every time the fixture instance is asked to create an instance of AbstractClass, it will return a new instance of FakeAbstractClass.

### Replaced Default Algorithm
```kotlin
fixture.register<String> { "Marcello Galhardo" }
val result = fixture.next<String>()
```
- Sample result: `string: "Marcello Galhardo"`

### Autogenerated List of Strings
var strings = fixture.nextListOf<String>()
- Sample result: 
  - `List<String>`
    - `string: "ecc1cc75-cd7a-417f-b477-2913802440b4"`
    - `string: "fce70a7b-fae5-474f-8055-415ca46eac20"`
    - `string: "79b45532-d66f-4abc-9311-77ba68dc9e3c"`
    
### Set Property (Data Classes)
```kotlin
var mc = fixture.next<Person>().copy(name = "Marcello Galhardo")
```
- Sample result: 
  - Person:
    - Name: `Marcello Galhardo`
    - Age: `int: 25`

## Known Issues

These are the list of well known issues with Kotlin.Fixture.

- Abstract Classes: if not registered a custom abstract type, Kotlin.Fixture will throw "AbstractClassNotSupportedException"

- Nullability: by default, any reference that can be null will be null.